<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Product List</title>
    <link th:href="@{/css/bootstrap.css}" rel="stylesheet">
    <link th:href="@{/css/datatable.min.css}" rel="stylesheet">
    <script src = "/js/jquery.js" type = "text/javascript"></script>
    <script src = "/js/datatable.min.js" type = "text/javascript"></script>

</head>
<body>
<div class = "container">

    <div class="container">
        <nav class="navbar">
            <div class="container-fluid">
                <div class="navbar-header">
                    <a class="navbar-brand" href="#">E-Store</a>
                </div>
                <ul class="nav navbar-nav">
                    <li class="active"><a href="#">Home</a></li>
                </ul>
                <ul class="nav navbar-nav navbar-right">
                    <li><a th:href="@{/logout}"><span class="glyphicon glyphicon-log-out"></span> Logout</a></li>
                </ul>
            </div>
        </nav>

    <div class = "row">
        <div class = "col-md-12">

            <h2>Product <a th:href ="@{/addproductform}" class = "btn btn-primary pull-right">Add Product</a></h2>
            <table id = "product-info" class="table table-striped table-bordered">
                <thead>
                <tr>
                    <th class="text-center">Product</th>
                    <th class="text-center">Price</th>
                    <th class="text-center">Action</th>
                </tr>
                </thead>

                <tbody>
                <tr th:each="product:${products}">
                    <td th:text="${product.getName()}"></td>
                    <td th:text="${product.getPrice()}"></td>
                    <td>
                        <a th:href="@{/updateproductform/{id}(id=${product.getId()})}" class="btn btn-warning btn-sm">
                            <span class="glyphicon glyphicon-pencil"></span>
                        </a>

                        <a th:href="@{/delete/{id}(id=${product.getId()})}" class="btn btn-danger btn-sm">
                            <span class="glyphicon glyphicon-trash"></span>
                        </a>
                    </td>
                </tr>
                </tbody>

            </table>

        </div>
    </div>
</div>
</body>
</html>
<script>
    $(document).ready(function () {
        $('#product-info').DataTable();
    });
</script>
